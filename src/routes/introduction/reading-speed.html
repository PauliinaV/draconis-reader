<template>
  <require from="../../utility/number-value-converter"></require>

  <div class="row d-flex justify-content-center">
    <div class="col-md-12 col-lg-8">
      <h1 hide.bind="!!startTime && !endTime">Reading Speed Test</h1>

      <div show.bind="!startTime">
        <p>
          Please read the following text without interruptions at your normal reading speed.
          Click the <b>start</b> button when you are ready to start.
        </p>
      </div>

      <div show.bind="!!startTime && !endTime" ref="textContainer" class="text-justify">
        <div if.bind="attempt % 3 === 1">
          <h1>The Darling</h1>

          <h2>Anton Chekhov</h2>

          <p>Olenka, the daughter of the retired
            collegiate assessor Plemyanikov, was sitting on the back-door steps of her
            house doing nothing. It was hot, the flies were nagging and teasing, and it was
            pleasant to think that it would soon be evening. Dark rain clouds were
            gathering from the east, wafting a breath of moisture every now and then.</p>

          <p>Kukin, who roomed in the wing of the same
            house, was standing in the yard looking up at the sky. He was the manager of
            the Tivoli, an open-air theatre.</p>

          <p>&quot;Again,&quot; he said despairingly.
            &quot;Rain again. Rain, rain, rain! Every day rain! As though to spite me. I
            might as well stick my head into a noose and be done with it. It's ruining me.
            Heavy losses every day!&quot; He wrung his hands, and continued, addressing
            Olenka: &quot;What a life, Olga Semyonovna! It's enough to make a man weep. He
            works, he does his best, his very best, he tortures himself, he passes
            sleepless nights, he thinks and thinks and thinks how to do everything just
            right. And what's the result? He gives the public the best operetta, the very
            best pantomime, excellent artists. But do they want it? Have they the least
            appreciation of it? The public is rude. The public is a great boor. The public
            wants a circus, a lot of nonsense, a lot of stuff. And there's the weather.
            Look! Rain almost every evening. It began to rain on the tenth of May, and it's
            kept it up through the whole of June. It's simply awful. I can't get any
            audiences, and don't I have to pay rent? Don't I have to pay the actors?&quot;</p>

        </div>
        <div if.bind="attempt % 3 === 2">
          <h1>The Darling</h1>

          <h2>Anton Chekhov</h2>

          <p>The next day towards evening the clouds
            gathered again, and Kukin said with an hysterical laugh:</p>

          <p>&quot;Oh, I don't care. Let it do its
            worst. Let it drown the whole theatre, and me, too. All right, no luck for me
            in this world or the next. Let the actors bring suit against me and drag me to
            court. What's the court? Why not Siberia at hard labour, or even the scaffold?
            Ha, ha, ha!&quot;</p>

          <p>It was the same on the third day.</p>

          <p>Olenka listened to Kukin seriously, in
            silence. Sometimes tears would rise to her eyes. At last Kukin's misfortune
            touched her. She fell in love with him. He was short, gaunt, with a yellow
            face, and curly hair combed back from his forehead, and a thin tenor voice. His
            features puckered all up when he spoke. Despair was ever inscribed on his face.
            And yet he awakened in Olenka a sincere, deep feeling.</p>

          <p>She was always loving somebody. She
            couldn't get on without loving somebody. She had loved her sick father, who sat
            the whole time in his armchair in a darkened room, breathing heavily. She had
            loved her aunt, who came from Brianska once or twice a year to visit them. And
            before that, when a pupil at the progymnasium, she had loved her French
            teacher. She was a quiet, kind-hearted, compassionate girl, with a soft gentle
            way about her. And she made a very healthy, wholesome impression. Looking at
            her full, rosy cheeks, at her soft white neck with the black mole, and at the
            good naïve smile that always played on her face when something pleasant was
            said, the men would think, &quot;Not so bad,&quot; and would smile too; and the
            lady visitors, in the middle of the conversation, would suddenly grasp her hand
            and exclaim, &quot;You darling!&quot; in a burst of delight.</p>
        </div>
        <div if.bind="attempt  % 3 === 0">
          <h1>The Darling</h1>

          <h2>Anton Chekhov</h2>

          <p>The house, hers by inheritance, in which
            she had lived from birth, was located at the outskirts of the city on the Gypsy
            Road, not far from the Tivoli. From early evening till late at night she could
            hear the music in the theatre and the bursting of the rockets; and it seemed to
            her that Kukin was roaring and battling with his fate and taking his chief
            enemy, the indifferent public, by assault. Her heart melted softly, she felt no
            desire to sleep, and when Kukin returned home towards morning, she tapped on
            her window-pane, and through the curtains he saw her face and one shoulder and
            the kind smile she gave him.</p>

          <p>He proposed to her, and they were married.
            And when he had a good look of her neck and her full vigorous shoulders, he
            clapped his hands and said:</p>

          <p>&quot;You darling!&quot;</p>

          <p>He was happy. But it rained on their
            wedding-day, and the expression of despair never left his face.</p>

          <p>They got along well together. She sat in
            the cashier's box, kept the theatre in order, wrote down the expenses, and paid
            out the salaries. Her rosy cheeks, her kind naïve smile, like a halo around her
            face, could be seen at the cashier's window, behind the scenes, and in the
            café. She began to tell her friends that the theatre was the greatest, the most
            important, the most essential thing in the world, that it was the only place to
            obtain true enjoyment in and become humanised and educated.</p>

          <p>&quot;But do you suppose the public
            appreciates it?&quot; she asked. &quot;What the public wants is the circus.
            Yesterday Vanichka and I gave Faust Burlesqued, and almost all the boxes were
            empty. If we had given some silly nonsense, I assure you, the theatre would
            have been overcrowded. To-morrow we'll put Orpheus in Hades on. Do come.&quot;</p>
        </div>
      </div>

      <div show.bind="!!startTime && !!endTime">
        <p show.bind="isRealisticReadingSpeed">
          Reading speed test is now complete.
        </p>
        <p show.bind="!isRealisticReadingSpeed">
          Measuring reading speed failed, please click the button below to go back to the start of the test.
        </p>
      </div>
      <div class="d-flex justify-content-center">
        <button class="btn btn-primary btn-lg" click.delegate="start()" show.bind="!startTime">
          Start
        </button>
        <button class="btn btn-primary btn-lg" click.delegate="end()" show.bind="!!startTime && !endTime">
          End
        </button>
        <button class="btn btn-primary btn-lg" click.delegate="reset()"
          show.bind="!!wordsPerMinuteRead && !isRealisticReadingSpeed">
          Restart Test
        </button>
        <button class="btn btn-primary btn-lg" click.delegate="save()"
          show.bind="!!wordsPerMinuteRead && isRealisticReadingSpeed">
          Continue
        </button>
      </div>
    </div>
  </div>
</template>
